<template>
    <nav class="bg-white shadow-md">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- LOGO -->
            <router-link to="/" class="text-2xl font-extrabold text-gray-800 flex items-center space-x-2">
                <img src="@/assets/logo.svg" alt="Logo" class="h-8 w-auto" />
                <span>AI-Commerce</span>
            </router-link>

            <!-- üîç ÊêúÂ∞ãÊ¨Ñ -->
            <div class="hidden md:flex flex-grow px-6 md:px-12">
                <div class="w-full max-w-2xl flex bg-white border border-gray-300 rounded-md overflow-hidden shadow-sm">
                    <input type="text" placeholder="Search products..."
                        class="w-full p-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                    <button class="bg-blue-500 text-white px-6 py-3 hover:bg-blue-600 transition">
                        üîç
                    </button>
                </div>
            </div>


            <!-- üìå Â∞éË¶ΩÈÄ£ÁµêÔºàÊ°åÊ©üÁâàÔºâ -->
            <div class="hidden md:flex items-center gap-x-10">
                <router-link to="/" class="nav-link">Home</router-link>
                <router-link to="/shop" class="nav-link">Shop</router-link>

                <!-- üõí Ë≥ºÁâ©Ëªä -->
                <!-- üõí Ë≥ºÁâ©Ëªä -->
                <router-link to="/cart" class="relative nav-link flex items-center">
                    üõí Cart
                    <span v-if="cart.length > 0"
                        class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full">
                        {{ cart.length }}
                    </span>
                </router-link>

                
                <!-- üë§ ÂÄã‰∫∫È†ÅÈù¢ -->
                <router-link to="/profile" class="nav-link">Profile</router-link>
            </div>

            <!-- üì± Êº¢Â†°ÈÅ∏ÂñÆÔºàÊâãÊ©üÁâàÔºâ -->
            <button @click="toggleMenu" class="md:hidden text-gray-700 focus:outline-none">
                ‚ò∞
            </button>
        </div>

        <!-- üîç ÈüøÊáâÂºèÊêúÂ∞ãÊ°ÜÔºàÊâãÊ©üÁâàÔºâ -->
        <div class="md:hidden px-4 py-2">
            <input type="text" placeholder="Search..."
                class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <!-- üì± ÈüøÊáâÂºèÈÅ∏ÂñÆ -->
        <div v-if="menuOpen" class="md:hidden bg-white shadow-md py-4 space-y-4">
            <router-link to="/" class="block text-center nav-link">Home</router-link>
            <router-link to="/shop" class="block text-center nav-link">Shop</router-link>
            <router-link to="/cart" class="block text-center nav-link">Cart</router-link>
            <router-link to="/profile" class="block text-center nav-link">Profile</router-link>
        </div>
    </nav>
</template>

<script setup>
import { ref, computed } from "vue";
import { useCartStore } from "@/stores/cartStore";

const cartStore = useCartStore();
const cart = computed(() => cartStore.cart);
const totalPrice = computed(() => cartStore.totalPrice);

// üì± Êº¢Â†°ÈÅ∏ÂñÆÈñãÈóú
const menuOpen = ref(false);
const toggleMenu = () => {
    menuOpen.value = !menuOpen.value;
};
</script>

<style scoped>
@import "tailwindcss";

/* üñåÔ∏è ÈÄöÁî®Â∞éË¶ΩÈÄ£ÁµêÊ®£Âºè */
.nav-link {
    @apply text-gray-600 font-medium hover:text-blue-500 transition cursor-pointer;
}

</style>